(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{14:function(e,t,a){},25:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var l=a(2),n=a.n(l),s=a(5),c=a.n(s),r=(a(25),a(0)),i=function(){return Object(r.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(r.jsx)("div",{className:"container-fluid",children:Object(r.jsx)("a",{className:"navbar-brand",href:"#",children:"XMeme"})})})},d=a(15),o=a(16),m=a(17),u=a(20),b=a(19),j=a(18),h=a.n(j),p=a(3),x=a.n(p),O={baseUrl:"https://xmeme-sg.herokuapp.com"},f=(a(14),O.baseUrl),g=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(o.a)(this,a);for(var l=arguments.length,n=new Array(l),s=0;s<l;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={id:null,name:"",caption:"",url:"",meme:[],loading:!1,addLoading:!1,updateLoading:!1,alertData:null,alertAddData:null,error:null},e.GetAllMemes=function(){e.setState({error:"",name:"",caption:"",url:""}),x()({method:"GET",url:"".concat(f,"/memes"),headers:{"Content-Type":"application/json"}}).then((function(t){var a=t.data.message;e.setState({meme:a.map((function(e){return[e.id,e.name,e.caption,e.url]})),loading:!0})})).catch((function(e){console.log("Error ",e)}))},e.validation=function(){return e.setState({error:""}),""===e.state.name?(e.setState({error:"Name is required"}),!1):""===e.state.caption?(e.setState({error:"Caption is required"}),!1):""!==e.state.url||(e.setState({error:"Url is required"}),!1)},e.DeleteMeme=function(t){console.log("ID: ",t),x()({method:"DELETE",url:"".concat(f,"/delete-meme/").concat(t)}).then((function(t){console.log("Meme deleted: ",t),alert("Meme deleted successfully"),e.GetAllMemes()})).catch((function(e){console.log("Error in deleting meme: ",e)}))},e.updateMeme=function(t,a,l,n){e.setState({id:t,name:a,caption:l,url:n})},e.submitMemeUpdate=function(){var t={name:e.state.name,caption:e.state.caption,url:e.state.url};e.validation()&&x()({method:"PATCH",url:"".concat(f,"/update-meme/").concat(e.state.id),data:t}).then((function(t){console.log("Meme update: ",t),e.setState({updateLoading:!0,alertData:"Meme Updated Successfully \ud83d\ude42",name:null,caption:null,url:null}),e.GetAllMemes()})).catch((function(e){alert("Can't update the meme. Please try again later."),console.log("Error: ",e)}))},e.addMeme=function(){var t={name:e.state.name,caption:e.state.caption,url:e.state.url};e.validation()&&x()({method:"POST",data:t,url:"".concat(f,"/memes")}).then((function(t){e.setState({addLoading:!0,name:null,caption:null,url:null}),e.setState({alertAddData:"Meme Added Successfully \ud83d\ude42"},(function(){return e.GetAllMemes()})),"This meme is already present"==t.data.message&&e.setState({alertAddData:"This meme is already present"})})).catch((function(e){console.log("Error: ",e),alert("Can't add the meme. Please try again.")}))},e.change=function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){return this.GetAllMemes()}},{key:"render",value:function(){var e=this;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"modal fade",id:"exampleModal1",tabIndex:"-1","aria-labelledby":"exampleModal1Label","aria-hidden":"true",children:Object(r.jsx)("div",{className:"modal-dialog",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsxs)("div",{className:"modal-header",children:[Object(r.jsx)("h5",{className:"modal-title",id:"exampleModal1Label",children:"Add a Meme"}),Object(r.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(r.jsxs)("div",{className:"modal-body",children:[Object(r.jsxs)("form",{children:[Object(r.jsxs)("div",{className:"mb-3",children:[Object(r.jsx)("label",{htmlFor:"InputEmail1",className:"form-label",children:"Name"}),Object(r.jsx)("input",{value:this.state.name,name:"name",onChange:function(t){return e.change(t)},placeholder:"Enter your name",type:"text",className:"form-control",required:!0})]}),Object(r.jsxs)("div",{className:"mb-3",children:[Object(r.jsx)("label",{htmlFor:"InputPassword1",className:"form-label",children:"Caption"}),Object(r.jsx)("input",{value:this.state.caption,name:"caption",onChange:function(t){return e.change(t)},placeholder:"Enter the caption",type:"text",className:"form-control",required:!0})]}),Object(r.jsxs)("div",{className:"mb-3",children:[Object(r.jsx)("label",{htmlFor:"ImageUrl",className:"form-label",children:"Image Url"}),Object(r.jsx)("input",{value:this.state.url,name:"url",onChange:function(t){return e.change(t)},placeholder:"Enter the Image Url",type:"text",className:"form-control",required:!0})]})]}),this.state.addLoading?Object(r.jsx)("div",{className:"alert alert-success",role:"alert",children:this.state.alertAddData}):null,this.state.error?Object(r.jsx)("div",{className:"alert alert-danger",role:"alert",children:this.state.error}):null]}),Object(r.jsxs)("div",{className:"modal-footer",children:[Object(r.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancel"}),Object(r.jsx)("button",{onClick:this.addMeme,type:"button",className:"btn btn-primary",children:"Submit"})]})]})})}),Object(r.jsx)("div",{className:"modal fade",id:"exampleModal",tabIndex:"5","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(r.jsx)("div",{className:"modal-dialog",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsxs)("div",{className:"modal-header",children:[Object(r.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Update the Meme"}),Object(r.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(r.jsx)("div",{className:"modal-body",children:Object(r.jsxs)("form",{children:[Object(r.jsxs)("div",{className:"mb-3",children:[Object(r.jsx)("label",{htmlFor:"InputEmail1",className:"form-label",children:"Name"}),Object(r.jsx)("input",{value:this.state.name,name:"name",onChange:function(t){return e.change(t)},placeholder:"Enter your name",type:"text",className:"form-control",required:!0})]}),Object(r.jsxs)("div",{className:"mb-3",children:[Object(r.jsx)("label",{htmlFor:"InputPassword1",className:"form-label",children:"Caption"}),Object(r.jsx)("input",{value:this.state.caption,name:"caption",onChange:function(t){return e.change(t)},placeholder:"Enter the caption",type:"text",className:"form-control",required:!0})]}),Object(r.jsxs)("div",{className:"mb-3",children:[Object(r.jsx)("label",{htmlFor:"ImageUrl",className:"form-label",children:"Image Url"}),Object(r.jsx)("input",{value:this.state.url,name:"url",onChange:function(t){return e.change(t)},placeholder:"Enter the Image Url",type:"text",className:"form-control",required:!0})]})]})}),this.state.updateLoading?Object(r.jsx)("div",{className:"alert alert-success",role:"alert",children:this.state.alertData}):null,this.state.error?Object(r.jsx)("div",{className:"alert alert-danger",role:"alert",children:this.state.error}):null,Object(r.jsxs)("div",{className:"modal-footer",children:[Object(r.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Cancel"}),Object(r.jsx)("button",{onClick:this.submitMemeUpdate,type:"button",className:"btn btn-primary",children:"Update"})]})]})})}),Object(r.jsx)("div",{className:"text-center mt-5",children:Object(r.jsx)("input",{type:"button",value:"Add a Meme",className:"btn btn-primary rounded-pill button","data-bs-toggle":"modal","data-bs-target":"#exampleModal1"})}),Object(r.jsx)("div",{className:"container mt-4 mainContainer",children:Object(r.jsx)("div",{className:"row",children:Object(r.jsx)(h.a,{loaded:this.state.loading,children:this.state.meme.length>0?this.state.meme.map((function(t){return Object(r.jsxs)("div",{className:"col-lg-6 m-3",children:[Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-6",children:Object(r.jsx)("b",{children:t[1]})}),Object(r.jsxs)("div",{className:"col-6 d-flex justify-content-end",children:[Object(r.jsx)("a",{"data-bs-toggle":"modal","data-bs-target":"#exampleModal",onClick:function(){return e.updateMeme(t[0],t[1],t[2],t[3])},children:Object(r.jsx)("i",{className:"fas fa-edit edit-icon"})}),Object(r.jsx)("i",{className:"far fa-trash-alt delete-icon",onClick:function(){return e.DeleteMeme(t[0])}})]})]}),Object(r.jsx)("div",{className:"caption",children:t[2]}),Object(r.jsx)("img",{src:"".concat(t[3]),alt:t[1],className:"image"})]},t[0])})):Object(r.jsx)("div",{className:"text-center",children:Object(r.jsx)("b",{children:"No Meme Added.."})})})})})]})}}]),a}(l.Component),N=function(){return Object(r.jsx)("div",{className:"footer mt-5 text-center pt-2",children:"Made by \u2764\ufe0f Shlok Garg"})},v=function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(i,{}),Object(r.jsx)(g,{}),Object(r.jsx)(N,{})]})};c.a.render(Object(r.jsx)(n.a.StrictMode,{children:Object(r.jsx)(v,{})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.e6d1c29c.chunk.js.map